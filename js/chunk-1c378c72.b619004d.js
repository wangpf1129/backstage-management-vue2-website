(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c378c72"],{"05a4":function(e,t,r){},1276:function(e,t,r){"use strict";var a=r("d784"),n=r("44e7"),o=r("825a"),s=r("1d80"),i=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),d=r("9263"),p=r("9f7f"),f=p.UNSUPPORTED_Y,g=[].push,m=Math.min,b=4294967295;a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(s(this)),o=void 0===r?b:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,o);var i,c,l,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,p+"g");while(i=d.call(m,a)){if(c=m.lastIndex,c>f&&(u.push(a.slice(f,i.index)),i.length>1&&i.index<a.length&&g.apply(u,i.slice(1)),l=i[0].length,f=c,u.length>=o))break;m.lastIndex===i.index&&m.lastIndex++}return f===a.length?!l&&m.test("")||u.push(""):u.push(a.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,n,r):a.call(String(n),t,r)},function(e,n){var s=r(a,e,this,n,a!==t);if(s.done)return s.value;var d=o(e),p=String(this),g=i(d,RegExp),h=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"g":"y"),x=new g(f?"^(?:"+d.source+")":d,v),_=void 0===n?b:n>>>0;if(0===_)return[];if(0===p.length)return null===u(x,p)?[p]:[];var y=0,E=0,w=[];while(E<p.length){x.lastIndex=f?0:E;var R,k=u(x,f?p.slice(E):p);if(null===k||(R=m(l(x.lastIndex+(f?E:0)),p.length))===y)E=c(p,E,h);else{if(w.push(p.slice(y,E)),w.length===_)return w;for(var O=1;O<=k.length-1;O++)if(w.push(k[O]),w.length===_)return w;E=y=R}}return w.push(p.slice(y)),w}]}),f)},"14c3":function(e,t,r){var a=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"44e7":function(e,t,r){var a=r("861d"),n=r("c6b6"),o=r("b622"),s=o("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},"498a":function(e,t,r){"use strict";var a=r("23e7"),n=r("58a8").trim,o=r("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),o="["+n+"]",s=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),c=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),n=r("9f7f"),o=r("5692"),s=RegExp.prototype.exec,i=o("native-string-replace",String.prototype.replace),c=s,l=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(c=function(e){var t,r,n,o,c=this,p=u&&c.sticky,f=a.call(c),g=c.source,m=0,b=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),b=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(g="(?: "+g+")",b=" "+b,m++),r=new RegExp("^(?:"+g+")",f)),d&&(r=new RegExp("^"+g+"$(?!\\s)",f)),l&&(t=c.lastIndex),n=s.call(p?r:c,b),p?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=c.lastIndex,c.lastIndex+=n[0].length):c.lastIndex=0:l&&n&&(c.lastIndex=c.global?n.index+n[0].length:t),d&&n&&n.length>1&&i.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},"9f7f":function(e,t,r){"use strict";var a=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),o=r("fc6a"),s=r("a640"),i=[].join,c=n!=Object,l=s("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(e){return i.call(o(this),void 0===e?",":e)}})},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),o=r("df75"),s=r("d039"),i=s((function(){o(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return o(n(e))}})},c1c4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",[r("el-alert",{attrs:{title:"消息提示的文案",type:"info","show-icon":""}}),r("el-steps",{attrs:{space:200,active:e.activeIndex-0,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"基本信息"}}),r("el-step",{attrs:{title:"商品参数"}}),r("el-step",{attrs:{title:"商品属性"}}),r("el-step",{attrs:{title:"商品照片"}}),r("el-step",{attrs:{title:"商品内容"}}),r("el-step",{attrs:{title:"完成"}})],1),r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-position":"top"}},[r("el-tabs",{attrs:{"tab-position":"left","before-leave":e.beforeTabLeave},on:{"tab-click":e.handleTabClick},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[r("el-input",{model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[r("el-input",{model:{value:e.addForm.goods_price,callback:function(t){e.$set(e.addForm,"goods_price",t)},expression:"addForm.goods_price"}})],1),r("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[r("el-input",{model:{value:e.addForm.goods_weight,callback:function(t){e.$set(e.addForm,"goods_weight",t)},expression:"addForm.goods_weight"}})],1),r("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[r("el-input",{model:{value:e.addForm.goods_number,callback:function(t){e.$set(e.addForm,"goods_number",t)},expression:"addForm.goods_number"}})],1),r("el-form-item",{attrs:{label:"商品分类",prop:"goods_cat"}},[r("el-cascader",{attrs:{options:e.cateList,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name",checkStrictly:!0},clearable:""},on:{change:e.handleParentCateChange},model:{value:e.addForm.goods_cat,callback:function(t){e.$set(e.addForm,"goods_cat",t)},expression:"addForm.goods_cat"}})],1)],1),r("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.manyTableData,(function(t){return r("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[r("el-checkbox-group",{model:{value:t.attr_vals,callback:function(r){e.$set(t,"attr_vals",r)},expression:"item.attr_vals"}},e._l(t.attr_vals,(function(e,t){return r("el-checkbox",{key:t,attrs:{border:"",label:e}})})),1)],1)})),1),r("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.onlyTableData,(function(t){return r("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[r("el-input",{model:{value:t.attr_vals,callback:function(r){e.$set(t,"attr_vals",r)},expression:"item.attr_vals"}})],1)})),1),r("el-tab-pane",{attrs:{label:"商品照片",name:"3"}},[r("el-upload",{attrs:{action:e.uploadUrl,"on-remove":e.handleRemove,"list-type":"picture",headers:e.headersObj,"on-success":e.handleSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),r("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[r("quill-editor",{model:{value:e.addForm.goods_introduce,callback:function(t){e.$set(e.addForm,"goods_introduce",t)},expression:"addForm.goods_introduce"}}),r("el-button",{staticClass:"addGoods",attrs:{type:"primary"},on:{click:e.addGoods}},[e._v("添加商品")])],1)],1)],1)],1)],1)},n=[],o=r("5530"),s=r("1da1"),i=(r("498a"),r("159b"),r("ac1f"),r("1276"),r("4de4"),r("a15b"),r("96cf"),r("ff51")),c={name:"GoodsAdd",data:function(){return{activeIndex:"0",addForm:{goods_name:"",goods_price:0,goods_number:0,goods_weight:0,goods_cat:[],pics:[],goods_introduce:"",attrs:[]},addFormRules:{goods_name:{required:!0,message:"请输入商品名称",trigger:"blur"},goods_price:{required:!0,message:"请输入商品价格",trigger:"blur"},goods_number:{required:!0,message:"请输入商品数量",trigger:"blur"},goods_weight:{required:!0,message:"请输入商品重量",trigger:"blur"},goods_cat:{required:!0,message:"请选择商品分类",trigger:"blur"}},cateList:[],manyTableData:[],onlyTableData:[],headersObj:{Authorization:window.sessionStorage.getItem("token")}}},computed:{fetchCateId:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null},uploadUrl:function(){return this.$http.defaults.baseURL+"upload"}},methods:{fetchCateList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories");case 2:if(r=t.sent,a=r.data,200===a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("".concat(a.meta.msg)));case 6:e.cateList=a.data;case 7:case"end":return t.stop()}}),t)})))()},handleParentCateChange:function(){3!==this.addForm.goods_cat.length&&(this.addForm.goods_cat=[])},beforeTabLeave:function(e,t){return"0"===t&&0===this.addForm.goods_name.trim().length?(this.$message.error("请添加商品名称！"),!1):"0"===t&&3!==this.addForm.goods_cat.length?(this.$message.error("请添加商品分类！"),!1):void 0},handleTabClick:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("1"!==e.activeIndex){t.next=11;break}return t.next=3,e.$http.get("categories/".concat(e.fetchCateId,"/attributes"),{params:{sel:"many"}});case 3:if(r=t.sent,a=r.data,200===a.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("".concat(a.meta.msg)));case 7:a.data.forEach((function(e){e.attr_vals=e.attr_vals?e.attr_vals.split(","):[]})),e.manyTableData=a.data,t.next=19;break;case 11:if("2"!==e.activeIndex){t.next=19;break}return t.next=14,e.$http.get("categories/".concat(e.fetchCateId,"/attributes"),{params:{sel:"only"}});case 14:if(n=t.sent,o=n.data,200===o.meta.status){t.next=18;break}return t.abrupt("return",e.$message.error("".concat(o.meta.msg)));case 18:e.onlyTableData=o.data;case 19:case"end":return t.stop()}}),t)})))()},handleRemove:function(e){this.addForm.pics=this.addForm.pics.filter((function(t){return t.pic!==e.response.data.tmp_path}))},handleSuccess:function(e){this.addForm.pics.push({pic:e.data.tmp_path})},addGoods:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",e.$message.error("请填写必要的表单项"));case 2:return a=Object(o["a"])({},e.addForm),a.goods_cat=a.goods_cat.join(","),e.manyTableData.forEach((function(t){var r={attr_id:t.attr_id,attr_value:t.attr_vals.join(",")};e.addForm.attrs.push(r)})),e.onlyTableData.forEach((function(t){var r={attr_id:t.attr_id,attr_value:t.attr_vals};e.addForm.attrs.push(r)})),a.attrs=e.addForm.attrs,t.next=9,e.$http.post("goods",a);case 9:return n=t.sent,s=n.data,Object(i["a"])(s,201,e.$message),t.next=14,e.$router.push("/goods-list");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.fetchCateList()}},l=c,u=(r("eaec"),r("2877")),d=Object(u["a"])(l,a,n,!1,null,"5af9f472",null);t["default"]=d.exports},c8d2:function(e,t,r){var a=r("d039"),n=r("5899"),o="​᠎";e.exports=function(e){return a((function(){return!!n[e]()||o[e]()!=o||n[e].name!==e}))}},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),o=r("b622"),s=r("9112"),i=o("species"),c=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,u){var f=o(e),g=!n((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=g&&!n((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[i]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!g||!m||"replace"===e&&(!c||!l||d)||"split"===e&&!p){var b=/./[f],h=r(f,""[e],(function(e,t,r,a,n){return t.exec===RegExp.prototype.exec?g&&!n?{done:!0,value:b.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),v=h[0],x=h[1];a(String.prototype,e,v),a(RegExp.prototype,f,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}u&&s(RegExp.prototype[f],"sham",!0)}},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),o=r("56ef"),s=r("fc6a"),i=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=s(e),n=i.f,l=o(a),u={},d=0;while(l.length>d)r=n(a,t=l[d++]),void 0!==r&&c(u,t,r);return u}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),o=r("fc6a"),s=r("06cf").f,i=r("83ab"),c=n((function(){s(1)})),l=!i||c;a({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},eaec:function(e,t,r){"use strict";r("05a4")},ff51:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=function(e,t,r,a){if(e.meta.status!==t)return r.error("".concat(e.meta.msg));r.success("".concat(e.meta.msg)),a&&a()}}}]);
//# sourceMappingURL=chunk-1c378c72.b619004d.js.map